<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" layout:decorate="~{layout/default}">

<head>
    <title>HOME</title>
    <link th:href="@{/webjars/datatables/1.10.20/css/dataTables.bootstrap4.min.css}" rel="stylesheet" media="screen" />
    <link th:href="@{/css/responsive.dataTables.min.css}" rel="stylesheet" />

    <script th:src="@{/webjars/datatables/1.10.20/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/webjars/datatables/1.10.20/js/dataTables.bootstrap4.min.js}"></script>
    <script th:src="@{/webjars/datatables-buttons/1.6.0/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/webjars/datatables-buttons/1.6.0/js/buttons.html5.min.js}"></script>
    <script th:src="@{/webjars/jszip/3.1.0/jszip.min.js}"></script>
    <script th:src="@{/webjars/datatables-fixedheader/3.1.4/js/dataTables.fixedHeader.js}"></script>
    <script th:src="@{/webjars/datatables-responsive/2.2.3/js/dataTables.responsive.js}"></script>
    <script th:src="@{/webjars/datatables-responsive/2.2.3/js/responsive.bootstrap4.js}"></script>
    <script th:src="@{/js/jquery.datatables-render.js}"></script>
    <script th:src="@{/js/jquery.spring-friendly.min.js}"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            var table;
            var columns = [
                { data: "id", name: "id" },
                { data: "username", name: "username" },
                { data: "name", name: "name" },
                { data: "email", name: "email" },
                { data: "expiresOn", name: "expiresOn" }
                // { render: dfEmpty, sortable: false}
            ];

            // Setup - add a text input to each footer cell
            $('#datatable1 thead tr').clone(true).appendTo('#datatable1 thead');
            $('#datatable1 thead tr:eq(1) th').each(function (i) {
                var title = $(this).text();
                $(this).html('<input type="text" class="form-control form-control-sm" placeholder="Search ' + title + '" />');

                $('input', this).on('change', function () {
                    if (table.column(i).search() !== this.value) {
                        table
                            .column(i)
                            .search(this.value)
                            .draw();
                    }
                });
            });

            table = $('#datatable1').DataTable({

                "sPaginationType": "full_numbers",
                "processing": true,
                "serverSide": true,
                "ajax": {
                    "url": "datatable.json",
                    "type": "GET",
                    "data": function ( data ) { if (console) console.info(JSON.stringify(data)) }
                },
                "columns": columns,
                buttons: [
                    {
                        text: 'Add Member',
                        className: 'btn btn-sm btn-primary',
                        action: function (e, dt, node, config) {
                            alert('Button activated');
                        }
                    },
                    {
                        className: 'btn btn-sm btn-secondary',
                        extend: 'excelHtml5',
                        autoFilter: true,
                        sheetName: 'Exported data'
                    }
                ],
                dom: '<"row"<"col-4"i><"col-4"f><"col-4 text-right"B>><"clear">t<"row"<"col-4"l><"col"p>>',
                orderCellsTop: true,
                responsive: true
            });

        });
    </script>
</head>

<body>
    <div>
        <div>
            <div>
                <article layout:fragment="content">
                    <div class="row">
                        <div class="col">
                            <h4>> Member</h4>
                        </div>
                        <div class="col text-right">
                            <!-- <button type="button" class="btn btn-primary btn-sm">Add member</button> -->
                        </div>
                    </div>
                    <div>
                        <table class="table table-sm table-striped table-bordered" id="datatable1" style="width:100%"
                            data-page-length='25'>
                            <thead>
                                <tr>
                                    <th>번호</th>
                                    <th>아이디</th>
                                    <th>성명</th>
                                    <th>전자메일</th>
                                    <th>만료일</th>
                                    <!-- <th>명령</th> -->
                                </tr>
                            </thead>
                        </table>
                    </div>

                </article>
            </div>
        </div>
    </div>

</body>

</html>